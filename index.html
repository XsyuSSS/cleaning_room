<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 龍去蛇來：房間大掃除作戰指揮中心</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f4f6; }
        .progress-ring__circle {
            transition: stroke-dashoffset 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        .check-item:checked + label {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            animation: fall linear forwards;
            z-index: 9999;
        }
        @keyframes fall {
            to { transform: translateY(100vh) rotate(720deg); }
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800">

    <header class="bg-red-700 text-white p-6 shadow-lg sticky top-0 z-50">
        <div class="max-w-3xl mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold"><i class="fas fa-broom mr-2"></i>大掃除作戰指揮中心</h1>
                <p class="text-sm text-red-100">目標：2/21前完工，週日躺平</p>
            </div>
            <div class="text-right">
                <div class="text-xs text-red-200">目標日期</div>
                <div class="text-xl font-mono font-bold">02/22</div>
            </div>
        </div>
    </header>

    <main class="max-w-3xl mx-auto p-4 pb-20">

        <div class="bg-white rounded-xl shadow-sm p-6 mb-6 flex items-center justify-between">
            <div>
                <h2 class="text-xl font-bold text-stone-700">總體戰況</h2>
                <p class="text-stone-500 text-sm mt-1">進度條跑滿，週日就自由了！</p>
            </div>
            <div class="relative w-24 h-24">
                <svg class="w-full h-full" viewBox="0 0 100 100">
                    <circle class="text-gray-200 stroke-current" stroke-width="10" cx="50" cy="50" r="40" fill="transparent"></circle>
                    <circle id="progress-ring" class="text-red-500 progress-ring__circle stroke-current" stroke-width="10" stroke-linecap="round" cx="50" cy="50" r="40" fill="transparent" stroke-dasharray="251.2" stroke-dashoffset="251.2"></circle>
                </svg>
                <div class="absolute top-0 left-0 w-full h-full flex items-center justify-center">
                    <span id="progress-text" class="text-xl font-bold text-red-600">0%</span>
                </div>
            </div>
        </div>

        <div class="bg-amber-100 rounded-xl p-4 mb-6 border border-amber-200">
            <h3 class="font-bold text-amber-800 mb-2"><i class="fas fa-dove mr-2"></i>養鳥家庭特別注意</h3>
            <ul class="text-sm text-amber-800 space-y-1 list-disc list-inside">
                <li><strong>禁忌：</strong>絕對不可使用樟腦丸、水煙殺蟲劑（對鳥有毒）。</li>
                <li><strong>防蟲：</strong>請用密封罐裝鳥飼料；紙箱是蟑螂溫床，請盡量回收。</li>
                <li><strong>露營裝備：</strong>剛車宿回來，裝備務必「完全乾燥」再放入箱中，避免長黴菌。</li>
            </ul>
        </div>

        <div class="space-y-6">

            <div class="bg-white rounded-xl shadow-sm overflow-hidden border-l-4 border-red-500">
                <div class="p-4 bg-red-50 flex justify-between items-center cursor-pointer" onclick="toggleSection('day1')">
                    <h3 class="font-bold text-lg text-red-800">🔥 2/18 (今日): 火力全開，淨空戰場</h3>
                    <i class="fas fa-chevron-down text-red-600"></i>
                </div>
                <div id="day1" class="p-4 space-y-3">
                    <div class="flex items-start">
                        <input type="checkbox" id="t18-1" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t18-1" class="ml-3 block text-stone-700">
                            <span class="font-bold block">床上整理</span>
                            <span class="text-sm text-stone-500">清空床上雜物，確保今晚睡眠區乾淨。</span>
                        </label>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="t18-2" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t18-2" class="ml-3 block text-stone-700">
                            <span class="font-bold block">地面與紙箱清理</span>
                            <span class="text-sm text-stone-500">清除地板垃圾，拆解無用紙箱 (防蟲第一步)。</span>
                        </label>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="t18-3" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t18-3" class="ml-3 block text-stone-700">
                            <span class="font-bold block">電腦桌/書桌垃圾清理</span>
                            <span class="text-sm text-stone-500">丟垃圾，將「還可用」的雜物暫時掃入一個整理箱。</span>
                        </label>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="t18-4" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t18-4" class="ml-3 block text-stone-700">
                            <span class="font-bold block">清洗鳥籠</span>
                            <span class="text-sm text-stone-500">刷洗鳥籠與底盤，給鳥寶乾淨的環境。</span>
                        </label>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="t18-5" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t18-5" class="ml-3 block text-stone-700">
                            <span class="font-bold block">整理車宿露營裝備 (2/15-17)</span>
                            <span class="text-sm text-stone-500">整理剛回來的裝備，確保乾燥後集中。</span>
                        </label>
                    </div>
                     <div class="flex items-start">
                        <input type="checkbox" id="t18-6" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t18-6" class="ml-3 block text-stone-700">
                            <span class="font-bold block">整理箱進度 (3-5個)</span>
                            <span class="text-sm text-stone-500">開啟第一批箱子，進行分類 (丟/留/歸位)。</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm overflow-hidden border-l-4 border-blue-500">
                <div class="p-4 bg-blue-50 flex justify-between items-center cursor-pointer" onclick="toggleSection('day2')">
                    <h3 class="font-bold text-lg text-blue-800">📦 2/19 (明日): 深度整理與清潔</h3>
                    <i class="fas fa-chevron-down text-blue-600"></i>
                </div>
                <div id="day2" class="p-4 space-y-3">
                    <div class="flex items-start">
                        <input type="checkbox" id="t19-1" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t19-1" class="ml-3 block text-stone-700">
                            <span class="font-bold block">整理箱進度 (3-5個)</span>
                            <span class="text-sm text-stone-500">第二批箱子。建議將露營用品集中到藍色箱子。</span>
                        </label>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="t19-2" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t19-2" class="ml-3 block text-stone-700">
                            <span class="font-bold block">書籍整理</span>
                            <span class="text-sm text-stone-500">將書架上的書重新排列整齊。</span>
                        </label>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="t19-3" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t19-3" class="ml-3 block text-stone-700">
                            <span class="font-bold block">冰箱整理</span>
                            <span class="text-sm text-stone-500">丟棄過期食物，檢查鳥飼料保存狀況。</span>
                        </label>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="t19-4" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t19-4" class="ml-3 block text-stone-700">
                            <span class="font-bold block">掃地與拖地 (重點)</span>
                            <span class="text-sm text-stone-500">漂白水消毒(注意通風)，這是年前最後一次大清潔地板。</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm overflow-hidden border-l-4 border-green-500">
                <div class="p-4 bg-green-50 flex justify-between items-center cursor-pointer" onclick="toggleSection('day3')">
                    <h3 class="font-bold text-lg text-green-800">✨ 2/21 (週六): 收尾與檢視</h3>
                    <i class="fas fa-chevron-down text-green-600"></i>
                </div>
                <div id="day3" class="p-4 space-y-3">
                    <div class="flex items-start">
                        <input type="checkbox" id="t21-1" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t21-1" class="ml-3 block text-stone-700">
                            <span class="font-bold block">整理箱進度 (最後3-5個)</span>
                            <span class="text-sm text-stone-500">解決最後一批「眼不見為淨」的雜物。</span>
                        </label>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="t21-2" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t21-2" class="ml-3 block text-stone-700">
                            <span class="font-bold block">全屋檢視與補強</span>
                            <span class="text-sm text-stone-500">看看哪裡還不順眼？做最後的調整。</span>
                        </label>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="t21-3" class="check-item mt-1 w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300">
                        <label for="t21-3" class="ml-3 block text-stone-700">
                            <span class="font-bold block">準備迎接 2/22 休息日</span>
                            <span class="text-sm text-stone-500">點個香氛，享受成果，明天不動手！</span>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="bg-stone-200 rounded-xl p-4 text-center opacity-70">
                <h3 class="font-bold text-stone-600">😴 2/22 (週日): 休息日</h3>
                <p class="text-sm">本日不排打掃行程，享受清爽的房間！</p>
            </div>

        </div>
    </main>

    <script>
        // Data Handling
        const checkboxes = document.querySelectorAll('.check-item');
        const progressRing = document.getElementById('progress-ring');
        const progressText = document.getElementById('progress-text');
        const radius = progressRing.r.baseVal.value;
        const circumference = radius * 2 * Math.PI;

        progressRing.style.strokeDasharray = `${circumference} ${circumference}`;
        progressRing.style.strokeDashoffset = circumference;

        function setProgress(percent) {
            const offset = circumference - (percent / 100) * circumference;
            progressRing.style.strokeDashoffset = offset;
            progressText.innerText = `${Math.round(percent)}%`;
            
            if (percent === 100) {
                celebrate();
            }
        }

        function updateProgress() {
            const total = checkboxes.length;
            const checked = document.querySelectorAll('.check-item:checked').length;
            const percent = (checked / total) * 100;
            setProgress(percent);
            
            // Save to LocalStorage
            const state = {};
            checkboxes.forEach(cb => {
                state[cb.id] = cb.checked;
            });
            localStorage.setItem('cleaningProgressV2', JSON.stringify(state));
        }

        function loadProgress() {
            const state = JSON.parse(localStorage.getItem('cleaningProgressV2'));
            if (state) {
                checkboxes.forEach(cb => {
                    if (state[cb.id]) {
                        cb.checked = true;
                    }
                });
            }
            updateProgress();
        }

        checkboxes.forEach(cb => {
            cb.addEventListener('change', updateProgress);
        });

        // UI Interactions
        function toggleSection(id) {
            const el = document.getElementById(id);
            if (el.style.display === 'none') {
                el.style.display = 'block';
            } else {
                el.style.display = 'none';
            }
        }

        // Celebration
        function celebrate() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
                confetti.style.backgroundColor = ['#f00', '#0f0', '#00f', '#ff0', '#f0f'][Math.floor(Math.random() * 5)];
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 5000);
            }
            alert("太棒了！所有進度達成！享受你的新房間吧！🎉");
        }

        loadProgress(); // Init
    </script>
</body>
</html>
